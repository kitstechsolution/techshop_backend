# Server Configuration
PORT=5000
NODE_ENV=development
API_VERSION=v1
BASE_URL=http://localhost:5000
CORS_ORIGIN=http://localhost:5173
ALLOW_ALL_ORIGINS=false
TRUSTED_PROXIES=127.0.0.1,::1
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=900

# Database Configuration
MONGODB_URI=mongodb://localhost:27017/ecommerce
DB_RECONNECT_TRIES=3
DB_RECONNECT_INTERVAL=1000

# Authentication Configuration
JWT_SECRET=your-jwt-secret-key-change-this-in-production
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRATION=7d
SALT_ROUNDS=10
RESET_PASSWORD_EXPIRATION=3600000

# OAuth Configuration
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=

# Payment Gateway Configuration
CURRENCY=INR
CURRENCY_SYMBOL=â‚¹
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=
RAZORPAY_KEY_ID=rzp_test_XXXXXXXXXXXXXXX
RAZORPAY_KEY_SECRET=XXXXXXXXXXXXXXXXXXXXXXXX
RAZORPAY_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXXXXXXXXXXXXX
PAYPAL_CLIENT_ID=
PAYPAL_CLIENT_SECRET=
PAYPAL_ENVIRONMENT=sandbox
CASHFREE_APP_ID=
CASHFREE_SECRET_KEY=
CASHFREE_ENVIRONMENT=TEST
CASH_ON_DELIVERY_ENABLED=true

# Email Configuration
# ===================
# Enable/Disable email functionality
EMAIL_ENABLED=true

# Email Service Provider (gmail, sendgrid, or smtp for custom)
EMAIL_SERVICE=gmail

# Email From Information
EMAIL_FROM=noreply@ecommerce.com
EMAIL_FROM_NAME=E-Commerce Store

# Gmail Configuration (Recommended for Development)
# Enable 2FA and generate an App Password: https://myaccount.google.com/apppasswords
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-16-character-app-password

# SendGrid Configuration (Recommended for Production)
# Get your API key from: https://app.sendgrid.com/settings/api_keys
# EMAIL_SERVICE=sendgrid
# SENDGRID_API_KEY=SG.your_sendgrid_api_key_here

# Custom SMTP Configuration
# EMAIL_SERVICE=smtp
# EMAIL_HOST=smtp.yourprovider.com
# EMAIL_PORT=587
# EMAIL_SECURE=false
# EMAIL_USER=your-smtp-username
# EMAIL_PASSWORD=your-smtp-password

# Email Templates Configuration
FRONTEND_URL=http://localhost:3000

# Legacy Email Fields (for backward compatibility)
FROM_EMAIL=no-reply@example.com
FROM_NAME=E-commerce Store
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_SECURE=false
EMAIL_PROVIDER=smtp
EMAIL_PASS=your-app-password-here

# File Storage Configuration
STORAGE_PROVIDER=local
LOCAL_STORAGE_DIR=uploads
S3_REGION=
S3_BUCKET=
S3_ACCESS_KEY=
S3_SECRET_KEY=
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=

# PDF Configuration
# =================
# Company information for invoices
COMPANY_NAME=E-Commerce Store
COMPANY_ADDRESS=123 Business St, City, State 12345
COMPANY_EMAIL=support@ecommerce.com
COMPANY_WEBSITE=www.ecommerce.com
COMPANY_PHONE=+1-555-0123

# Invoice Settings
INVOICE_PREFIX=INV
TAX_RATE_PERCENTAGE=18
SHIPPING_COST_DEFAULT=50

# Product Configuration
DEFAULT_PRODUCT_IMAGE=/images/placeholder.png
IMAGES_PER_PRODUCT=5
TAX_RATE=18
DEFAULT_PAGE_SIZE=20
ENABLED_REVIEWS=true
REQUIRE_PURCHASE_FOR_REVIEW=true
AUTO_APPROVE_REVIEWS=false

# Testing Configuration
# =====================
# Test Database (uses MongoDB Memory Server in tests)
TEST_MONGODB_URI=mongodb://localhost:27017/ecommerce_test
TEST_JWT_SECRET=test-jwt-secret-key-for-testing-only
TEST_EMAIL_ENABLED=false
TEST_SKIP_EMAIL=true

# Test Coverage Settings
JEST_COVERAGE_THRESHOLD=80
JEST_TIMEOUT=10000

# Shipping Configuration
STANDARD_SHIPPING_NAME=Standard Shipping
STANDARD_SHIPPING_DESCRIPTION=Delivery in 3-5 business days
STANDARD_SHIPPING_PRICE=50
STANDARD_SHIPPING_DAYS=5
EXPRESS_SHIPPING_NAME=Express Shipping
EXPRESS_SHIPPING_DESCRIPTION=Delivery in 1-2 business days
EXPRESS_SHIPPING_PRICE=150
EXPRESS_SHIPPING_DAYS=2
FREE_SHIPPING_THRESHOLD=500
DEFAULT_SHIPPING_METHOD=standard
CALCULATE_SHIPPING_BY_WEIGHT=false
BASE_SHIPPING_RATE=50
WEIGHT_SHIPPING_MULTIPLIER=10

# Shipping Configuration
DEFAULT_SHIPPING_COST=50
ENABLE_PINCODE_VALIDATION=true
ENABLE_INTERNATIONAL_SHIPPING=false
DEFAULT_SHIPPING_AGGREGATOR=shiprocket
INTERNATIONAL_SHIPPING_MARKUP=10
ENABLE_SHIPPING_INSURANCE=false
SHIPPING_INSURANCE_THRESHOLD=10000
SHIPPING_WEBHOOK_SECRET=your-webhook-secret-key
# Optional provider-specific secrets override the generic one above if set
SHIPROCKET_WEBHOOK_SECRET=
SHIPWAY_WEBHOOK_SECRET=
SHIPYAARI_WEBHOOK_SECRET=

# Shiprocket Configuration
SHIPROCKET_EMAIL=
SHIPROCKET_PASSWORD=
SHIPROCKET_API_KEY=
SHIPROCKET_TEST_MODE=true
SHIPROCKET_WEBHOOK_URL=https://your-domain.com/api/shipping/webhook/shiprocket

# Shipway Configuration
SHIPWAY_USERNAME=
SHIPWAY_LICENSE_KEY=
SHIPWAY_TEST_MODE=true
SHIPWAY_WEBHOOK_URL=https://your-domain.com/api/shipping/webhook/shipway

# Shipyaari Configuration
SHIPYAARI_USER_ID=
SHIPYAARI_API_KEY=
SHIPYAARI_TEST_MODE=true
SHIPYAARI_WEBHOOK_URL=https://your-domain.com/api/shipping/webhook/shipyaari

# Shipping HTTP client behavior
SHIPPING_HTTP_TIMEOUT_MS=10000
SHIPPING_HTTP_MAX_RETRIES=2
SHIPPING_HTTP_BACKOFF_MS=500

# Auto create shipment on order creation (keep false in dev until sandbox creds configured)
AUTO_CREATE_SHIPMENT_ON_ORDER=false
